
<h1>numpy.ma.fix_invalid<a class="headerlink" href="#numpy-ma-fix-invalid" title="Permalink to this heading">#</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="numpy.ma.fix_invalid">
<span class="sig-prename descclassname"><span class="pre">ma.</span></span><span class="sig-name descname"><span class="pre">fix_invalid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/numpy/numpy/blob/v1.24.0/numpy/ma/core.py#L725-L781"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#numpy.ma.fix_invalid" title="Permalink to this definition">#</a></dt>
<dd><p>Return input with invalid data masked and replaced by a fill value.</p>
<p>Invalid data means values of <a class="reference internal" href="../constants.html#numpy.nan" title="numpy.nan"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nan</span></code></a>, <a class="reference internal" href="../constants.html#numpy.inf" title="numpy.inf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inf</span></code></a>, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>a</strong><span class="classifier">array_like</span></dt><dd><p>Input array, a (subclass of) ndarray.</p>
</dd>
<dt><strong>mask</strong><span class="classifier">sequence, optional</span></dt><dd><p>Mask. Must be convertible to an array of booleans with the same
shape as <em class="xref py py-obj">data</em>. True indicates a masked (i.e. invalid) data.</p>
</dd>
<dt><strong>copy</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to use a copy of <em class="xref py py-obj">a</em> (True) or to fix <em class="xref py py-obj">a</em> in place (False).
Default is True.</p>
</dd>
<dt><strong>fill_value</strong><span class="classifier">scalar, optional</span></dt><dd><p>Value used for fixing invalid data. Default is None, in which case
the <code class="docutils literal notranslate"><span class="pre">a.fill_value</span></code> is used.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>b</strong><span class="classifier">MaskedArray</span></dt><dd><p>The input array with invalid entries fixed.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>A copy is performed by default.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">],</span> <span class="n">mask</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">masked_array(data=[--, -1.0, nan, inf],</span>
<span class="go">             mask=[ True, False, False, False],</span>
<span class="go">       fill_value=1e+20)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">fix_invalid</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">masked_array(data=[--, -1.0, --, --],</span>
<span class="go">             mask=[ True, False,  True,  True],</span>
<span class="go">       fill_value=1e+20)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fixed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">fix_invalid</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fixed</span><span class="o">.</span><span class="n">data</span>
<span class="go">array([ 1.e+00, -1.e+00,  1.e+20,  1.e+20])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">data</span>
<span class="go">array([ 1., -1., nan, inf])</span>
</pre></div>
</div>
</dd></dl>

